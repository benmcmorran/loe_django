{% extends 'base.html' %}

{% load template_extras %}

{% block title %}League of Elo: {{ prediction_user }} Profile{% endblock %}

{% block content %}
<div class="row">
  <div class="section_div col">
    <h2 class="section_header">Stats</h2>
    {% user_stats user prediction_user %}
    <h2 class="section_header">Accuracy Plot</h2>
    <div class="accuracy_plot"></div>
  </div>

  <div class="section_div col">
    <h2 class="section_header">Recent Predictions</h2>
    <table class="match_table" id="recent_match_table">
    </table>
    <h2 class="section_header">Upcoming Predictions</h2>
    <table class="match_table" id="upcoming_match_table">
    </table>
  </div>
</div>
{% endblock %}

{% block script %}
<script type="text/javascript">

$(document).ready(function() {
  updateMatchTables();
});

function getAccuracy() {
  $.get(window.location.href.replace(/\/+$/, "") + '/accuracy_plot').done(function (data) {
    console.log(data);
  }).fail(function (error) {
    console.log(error);
  });
}

</script>
{% endblock %}
